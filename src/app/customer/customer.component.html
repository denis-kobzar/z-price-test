<div class="customer">
  <a [routerLink]="['/']">
    <button type="button"
            class="btn btn-primary back">Back to list</button>
  </a>
  <div class="card" style="width: 22rem;">
    <div class="card-body" *ngIf="!editMode; else form">
      <h5 class="card-title">Customer info</h5>
      <h6 class="card-subtitle mb-2 text-muted">{{ customer.fullName }}</h6>
      <p class="card-text">
        <strong>Phone:</strong> {{ customer.phone }}
        <br>
        <strong>Email:</strong> {{ customer.email }}
        <br>
        <strong>Address:</strong> {{ customer.address }}
      </p>
      <a class="card-link">
        <button type="button"
                class="btn btn-primary"
                (click)="edit()">Edit</button>
      </a>
      <a href="#" class="card-link">
        <a [routerLink]="['/']">
          <button type="button"
                  class="btn btn-danger"
                  (click)="remove()">Remove</button>
        </a>
      </a>
    </div>
  </div>

  <ng-template #form>
    <form class="form" [formGroup]="customerForm" (ngSubmit)="putCustomer()">
      <div class="input-group mb-3">
        <span class="input-group-text">Full name</span>
        <input type="text"
               class="form-control"
               aria-describedby="basic-addon3"
               formControlName="fullName">
      </div>
      <div class="input-group mb-3">
        <span class="input-group-text">Phone</span>
        <input type="text"
               class="form-control"
               aria-describedby="basic-addon3"
               formControlName="phone">
      </div>
      <div *ngIf="customerForm.invalid">
        Phone is invalid.
      </div>
      <div class="input-group mb-3">
        <span class="input-group-text">Email</span>
        <input type="text"
               class="form-control"
               aria-describedby="basic-addon3"
               formControlName="email">
      </div>
      <div class="input-group mb-3">
        <span class="input-group-text">Address</span>
        <input type="text"
               class="form-control"
               aria-describedby="basic-addon3"
               formControlName="address">
      </div>

      <div class="d-flex flex-row-reverse">
        <button type="submit"
                class="btn btn-primary align-self-end btn-edit"
                [disabled]="customerForm.invalid">Edit</button>
        <button type="button"
                class="btn btn-light align-self-end btn-cancel"
                (click)="editMode=false">Cancel</button>
      </div>
    </form>
  </ng-template>
</div>
